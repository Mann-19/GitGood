<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Git Essentials</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3CB35A",
              "primary-dark": "#2E8B46",
              "primary-light": "#E8F5E9",
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              mono: ["Fira Code", "monospace"],
            },
            animation: {
              "fade-in": "fadeIn 0.3s ease-out forwards",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(10px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
            },
          },
        },
      };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #fafafa;
        color: #1f2937;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f3f4f6;
      }
      ::-webkit-scrollbar-thumb {
        background: #d1d5db;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
      }

      /* Markdown Styles */
      .markdown-body h1 {
        font-size: 2.25rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: #111827;
        letter-spacing: -0.025em;
      }
      .markdown-body h2 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-top: 3rem;
        margin-bottom: 1rem;
        color: #1f2937;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 0.75rem;
      }
      .markdown-body h3 {
        font-size: 1.25rem;
        font-weight: 600;
        margin-top: 2rem;
        margin-bottom: 0.75rem;
        color: #374151;
      }
      .markdown-body p {
        margin-bottom: 1.25rem;
        line-height: 1.75;
        color: #4b5563;
        font-weight: 300;
      }
      .markdown-body ul {
        list-style-type: disc;
        padding-left: 1.5rem;
        margin-bottom: 1.5rem;
        color: #4b5563;
      }
      .markdown-body li {
        margin-bottom: 0.5rem;
      }
      .markdown-body strong {
        color: #111827;
        font-weight: 600;
      }
      .markdown-body code {
        background-color: #f3f4f6;
        color: #dc2626;
        padding: 0.2rem 0.4rem;
        border-radius: 0.25rem;
        font-family: "Fira Code", monospace;
        font-size: 0.85em;
      }
      .markdown-body pre {
        background-color: #1f2937;
        padding: 1.25rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        margin-bottom: 1.5rem;
        margin-top: 1rem;
        border: 1px solid #e5e7eb;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }
      .markdown-body pre code {
        background-color: transparent;
        padding: 0;
        color: #e5e7eb;
        font-size: 0.9em;
      }
      .markdown-body blockquote {
        border-left: 4px solid #3cb35a;
        padding-left: 1rem;
        font-style: italic;
        color: #4b5563;
        background: #f9fafb;
        padding: 1rem;
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
        border-radius: 0 0.5rem 0.5rem 0;
      }
      .markdown-body hr {
        border: 0;
        height: 1px;
        background: #e5e7eb;
        margin: 3rem 0;
      }

      /* Navigation Active State */
      .nav-active {
        color: #3cb35a;
        border-bottom: 2px solid #3cb35a;
      }
    </style>
  </head>
  <body class="flex flex-col min-h-screen">
    <!-- Top Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
      <div
        class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between"
      >
        <!-- Logo triggers Home View -->
        <button
          onclick="loadHome()"
          class="flex items-center gap-3 group focus:outline-none"
        >
          <i
            class="ph-fill ph-git-branch text-primary text-2xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="font-bold text-lg tracking-tight text-gray-900"
            >Git<span class="text-primary">Essentials</span></span
          >
        </button>

        <nav class="hidden md:flex space-x-8">
          <button
            onclick="loadLevel(0)"
            id="nav-0"
            class="text-sm font-medium text-gray-500 hover:text-primary transition-colors py-5 border-b-2 border-transparent"
          >
            01. Basics
          </button>
          <button
            onclick="loadLevel(1)"
            id="nav-1"
            class="text-sm font-medium text-gray-500 hover:text-primary transition-colors py-5 border-b-2 border-transparent"
          >
            02. Remote & Sync
          </button>
          <button
            onclick="loadLevel(2)"
            id="nav-2"
            class="text-sm font-medium text-gray-500 hover:text-primary transition-colors py-5 border-b-2 border-transparent"
          >
            03. Recovery
          </button>
        </nav>

        <button class="md:hidden text-gray-500">
          <i class="ph ph-list text-2xl"></i>
        </button>
      </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow w-full max-w-4xl mx-auto px-6 py-12">
      <!-- SECTION: INTRO VIEW (Visible on Load) -->
      <div id="intro-view" class="animate-fade-in block">
        <div class="text-center py-10 max-w-2xl mx-auto">
          <h1
            class="text-4xl md:text-5xl font-extrabold text-gray-900 tracking-tight mb-6"
          >
            Version Control, <br /><span class="text-primary"
              >Without the Confusion.</span
            >
          </h1>
          <p class="text-lg text-gray-600 mb-8 leading-relaxed">
            A streamlined, jargon-free guide to mastering Git. Learn the
            industry-standard commands needed to manage code, collaborate with
            teams, and recover from mistakes.
          </p>
          <button
            onclick="loadLevel(0)"
            class="inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-white transition-all duration-200 bg-primary rounded-full hover:bg-primary-dark hover:shadow-lg hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
          >
            Start Learning - Module 01
            <i class="ph-bold ph-arrow-right ml-2"></i>
          </button>
        </div>

        <!-- What is Git Section -->
        <div
          class="mt-16 bg-white rounded-2xl p-8 border border-gray-100 shadow-sm"
        >
          <div class="flex items-start gap-4">
            <div
              class="p-3 bg-primary-light rounded-lg text-primary flex-shrink-0"
            >
              <i class="ph-fill ph-question text-2xl"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold text-gray-900 mb-2">What is Git?</h3>
              <p class="text-gray-600 leading-relaxed">
                Git is a "time machine" for your code. It saves snapshots of
                your project history, allowing you to travel back to previous
                versions, work on new features without breaking existing code,
                and combine work from multiple people. It is the fundamental
                tool for modern software development.
              </p>
            </div>
          </div>
        </div>

        <!-- Module Grid -->
        <div class="grid md:grid-cols-3 gap-6 mt-12">
          <!-- Card 1 -->
          <div
            onclick="loadLevel(0)"
            class="group cursor-pointer bg-white p-6 rounded-xl border border-gray-200 hover:border-primary hover:shadow-md transition-all"
          >
            <div
              class="w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center mb-4 group-hover:bg-primary-light transition-colors"
            >
              <i
                class="ph-fill ph-compass text-2xl text-gray-400 group-hover:text-primary"
              ></i>
            </div>
            <h3 class="font-bold text-gray-900 mb-2">01. The Basics</h3>
            <p class="text-sm text-gray-500">
              Initialize a project, stage files, and save your work history
              locally.
            </p>
          </div>

          <!-- Card 2 -->
          <div
            onclick="loadLevel(1)"
            class="group cursor-pointer bg-white p-6 rounded-xl border border-gray-200 hover:border-primary hover:shadow-md transition-all"
          >
            <div
              class="w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center mb-4 group-hover:bg-primary-light transition-colors"
            >
              <i
                class="ph-fill ph-globe text-2xl text-gray-400 group-hover:text-primary"
              ></i>
            </div>
            <h3 class="font-bold text-gray-900 mb-2">02. Collaboration</h3>
            <p class="text-sm text-gray-500">
              Connect to GitHub, push code, pull updates, and manage branches.
            </p>
          </div>

          <!-- Card 3 -->
          <div
            onclick="loadLevel(2)"
            class="group cursor-pointer bg-white p-6 rounded-xl border border-gray-200 hover:border-primary hover:shadow-md transition-all"
          >
            <div
              class="w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center mb-4 group-hover:bg-primary-light transition-colors"
            >
              <i
                class="ph-fill ph-first-aid text-2xl text-gray-400 group-hover:text-primary"
              ></i>
            </div>
            <h3 class="font-bold text-gray-900 mb-2">03. Recovery</h3>
            <p class="text-sm text-gray-500">
              Undo mistakes, fix bad commits, and resolve merge conflicts.
            </p>
          </div>
        </div>
      </div>

      <!-- SECTION: LEVEL VIEW (Hidden on Load) -->
      <div id="level-view" class="hidden">
        <div id="content-container" class="animate-fade-in">
          <div id="markdown-render" class="markdown-body">
            <!-- Markdown Content Injected Here -->
          </div>
        </div>

        <!-- Pagination -->
        <div
          class="mt-16 pt-8 border-t border-gray-200 flex justify-between items-center"
        >
          <button
            id="prev-btn"
            class="hidden group flex items-center text-sm font-medium text-gray-500 hover:text-primary transition-colors"
            onclick="prevLevel()"
          >
            <i
              class="ph ph-arrow-left mr-2 transition-transform group-hover:-translate-x-1"
            ></i>
            Previous
          </button>
          <div class="flex-grow"></div>
          <button
            id="next-btn"
            class="group flex items-center text-sm font-medium text-white bg-primary hover:bg-primary-dark px-6 py-2.5 rounded-full transition-all shadow-sm hover:shadow-md"
            onclick="nextLevel()"
          >
            Next Module
            <i
              class="ph ph-arrow-right ml-2 transition-transform group-hover:translate-x-1"
            ></i>
          </button>
        </div>

        <!-- FAQ Section -->
        <div class="mt-24">
          <h3
            class="text-xl font-bold text-gray-900 mb-8 border-l-4 border-primary pl-4"
          >
            Common Troubleshooting
          </h3>
          <div class="grid md:grid-cols-2 gap-6" id="faq-container">
            <!-- FAQs Injected Here -->
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 border-t border-gray-200 mt-20 py-12">
      <div class="max-w-5xl mx-auto px-6 text-center text-gray-400 text-sm">
        <p>&copy; 2025 Git Essentials. Open Source Education.</p>
      </div>
    </footer>

    <script>
      // --- Content Data ---
      const levels = [
        {
          title: "Basics",
          content: `# Module 01: Local Version Control\n\nGit is a distributed version control system that tracks changes in any set of computer files. It is the industry standard for coordinating work among programmers.\n\n---\n\n## 1. Initialize Repository (\`git init\`)\nCreate a new Git repository. This converts an existing project directory into a Git repository.\n* **Command:** \`git init\`\n* **Effect:** Creates a hidden \`.git\` directory that tracks version history.\n* **Usage:** Run this once in the root folder of your new project.\n\n## 2. Check Status (\`git status\`)\nDisplays the state of the working directory and the staging area.\n* **Command:** \`git status\`\n* **Effect:** Shows which files have changed, which are untracked, and which are staged for commit.\n* **Best Practice:** Run this frequently to understand the state of your changes.\n\n## 3. Stage Changes (\`git add\`)\nAdds file contents to the index (staging area). This prepares changes to be committed.\n* **Command:** \`git add <filename>\` or \`git add .\` (stages all changes)\n* **Concept:** Think of this as selecting which specific changes you want to include in your next save point.\n\n## 4. Commit Changes (\`git commit\`)\nRecords changes to the repository. This creates a permanent snapshot of the staged changes.\n* **Command:** \`git commit -m "Descriptive message"\`\n* **Effect:** Saves the staged history.\n* **Industry Standard:** Commit messages should be imperative and descriptive (e.g., "Add user authentication" instead of "added auth").\n\n## 5. View History (\`git log\`)\nShows the commit logs.\n* **Command:** \`git log\`\n* **Effect:** Lists author, date, and message for previous commits.\n* **Pro Tip:** Use \`git log --oneline\` for a concise view.`,
        },
        {
          title: "Remote & Sync",
          content: `# Module 02: Remotes & Collaboration\n\nCollaborating usually involves syncing your local repository with a remote server (like GitHub or GitLab).\n\n---\n\n## 1. Clone Repository (\`git clone\`)\nClone a repository into a new directory.\n* **Command:** \`git clone <repository-url>\`\n* **Effect:** Downloads the entire project history and sets up a local copy.\n* **Usage:** Use this when starting work on an existing project.\n\n## 2. Push Changes (\`git push\`)\nUpdate remote refs along with associated objects.\n* **Command:** \`git push -u origin main\`\n* **Effect:** Uploads your local commits to the remote server.\n* **Note:** The \`-u\` flag sets the upstream tracking, so you can just use \`git push\` in the future.\n\n## 3. Pull Changes (\`git pull\`)\nFetch from and integrate with another repository or a local branch.\n* **Command:** \`git pull\`\n* **Effect:** Downloads changes from the remote server and merges them into your current working directory.\n* **Best Practice:** Always pull before starting new work to ensure you have the latest codebase.\n\n## 4. Branching (\`git branch\`)\nBranches allow you to develop features, fix bugs, or safely experiment with new ideas in a contained area of your repository.\n* **Command:** \`git checkout -b <branch-name>\`\n* **Effect:** Creates a new branch and switches to it immediately.\n* **Workflow:** \n  1. Create branch: \`git checkout -b feature/login-page\`\n  2. Make changes and commit.\n  3. Push branch: \`git push -u origin feature/login-page\``,
        },
        {
          title: "Recovery",
          content: `# Module 03: Undo & Recovery\n\nAdvanced commands for correcting mistakes and managing project history.\n\n---\n\n## 1. Unstage Files (\`git reset\`)\nIf you accidentally staged a file with \`git add\` but didn't mean to.\n* **Command:** \`git reset <file>\`\n* **Effect:** Removes the file from the staging area but keeps the modifications in your working directory.\n\n## 2. Discard Changes (\`git restore\`)\nReverts a file to the state of the last commit.\n* **Command:** \`git restore <file>\`\n* **Warning:** This action is destructive. Any unsaved changes in that file will be lost permanently.\n\n## 3. Amend Commit (\`git commit --amend\`)\nModify the most recent commit. Useful for fixing typos in commit messages or adding a forgotten file.\n* **Command:** Stage changes, then \`git commit --amend\`\n* **Constraint:** Do not amend commits that have already been pushed to a shared remote.\n\n## 4. Stashing (\`git stash\`)\nTemporarily shelves changes so you can work on something else.\n* **Command:** \`git stash\`\n* **Effect:** Saves uncommitted changes to a temporary stack and cleans the working directory.\n* **Retrieval:** Use \`git stash pop\` to re-apply the changes later.\n\n## 5. Handling Merge Conflicts\nOccurs when Git cannot automatically resolve differences in code between two commits.\n* **Resolution:**\n    1. Open the conflicted file.\n    2. Locate markers \`<<<<<<<\`, \`=======\`, \`>>>>>>>\`.\n    3. Manually edit code to the desired state.\n    4. Run \`git add\` to mark as resolved.`,
        },
      ];

      const faqs = [
        {
          q: "Push rejected: 'Updates were rejected'",
          a: "The remote repository has changes you don't have. Run `git pull` to fetch and merge the latest changes, resolve any conflicts, and then push again.",
        },
        {
          q: "Committed to the wrong branch",
          a: "Soft reset the commit to keep your changes: `git reset HEAD~1`. Then switch to the correct branch and commit there.",
        },
        {
          q: "Exiting Vim editor",
          a: "If stuck in the default terminal editor: Press `Esc`, type `:wq` (write and quit), and press `Enter`.",
        },
        {
          q: "Detached HEAD state",
          a: "This means you checked out a specific commit, not a branch. To fix, simply checkout a branch: `git checkout main`.",
        },
      ];

      // --- Logic ---
      let currentLevel = 0;

      function loadHome() {
        // Show Intro, Hide Levels
        document.getElementById("intro-view").classList.remove("hidden");
        document.getElementById("intro-view").classList.add("block");
        document.getElementById("level-view").classList.add("hidden");
        document.getElementById("level-view").classList.remove("block");

        // Reset Nav Styles
        document.querySelectorAll("nav button").forEach((btn) => {
          btn.classList.remove("nav-active", "text-primary");
          btn.classList.add("text-gray-500", "border-transparent");
        });

        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function loadLevel(index) {
        currentLevel = index;

        // Hide Intro, Show Levels
        document.getElementById("intro-view").classList.add("hidden");
        document.getElementById("intro-view").classList.remove("block");
        document.getElementById("level-view").classList.remove("hidden");
        document.getElementById("level-view").classList.add("block");

        // Render Markdown
        const contentDiv = document.getElementById("markdown-render");
        contentDiv.style.opacity = "0"; // reset opacity for fade effect

        setTimeout(() => {
          contentDiv.innerHTML = marked.parse(levels[index].content);
          contentDiv.style.opacity = "1";
          window.scrollTo({ top: 0, behavior: "smooth" });
        }, 100);

        // Update Active Nav State
        document.querySelectorAll("nav button").forEach((btn, idx) => {
          if (idx === index) {
            btn.classList.add("nav-active", "text-primary");
            btn.classList.remove("text-gray-500", "border-transparent");
          } else {
            btn.classList.remove("nav-active", "text-primary");
            btn.classList.add("text-gray-500", "border-transparent");
          }
        });

        // Handle Pagination Buttons
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");

        if (index === 0) {
          prevBtn.classList.add("hidden");
        } else {
          prevBtn.classList.remove("hidden");
        }

        if (index === levels.length - 1) {
          nextBtn.classList.add("hidden");
        } else {
          nextBtn.classList.remove("hidden");
        }
      }

      function nextLevel() {
        if (currentLevel < levels.length - 1) {
          loadLevel(currentLevel + 1);
        }
      }

      function prevLevel() {
        if (currentLevel > 0) {
          loadLevel(currentLevel - 1);
        }
      }

      function renderFAQs() {
        const container = document.getElementById("faq-container");
        container.innerHTML = faqs
          .map(
            (item) => `
                <div class="bg-white p-6 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition-shadow">
                    <h4 class="font-semibold text-gray-900 mb-2 flex items-start">
                        <span class="text-primary mr-2">Q.</span> ${item.q}
                    </h4>
                    <p class="text-sm text-gray-600 leading-relaxed pl-6">${item.a}</p>
                </div>
            `
          )
          .join("");
      }

      // Initialize - Load Home by default
      document.addEventListener("DOMContentLoaded", () => {
        loadHome();
        renderFAQs();
      });
    </script>
  </body>
</html>
